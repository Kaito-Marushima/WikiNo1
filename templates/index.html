{% extends 'layout.html' %}

{% block title %}
    トップページ - 社内Wiki
{% endblock %}

{% block content %}
    <div class="mb-4">
        <form action="{{ url_for('search') }}" method="get" class="input-group">
            <input type="search" name="q" class="form-control" placeholder="キーワードで検索...">
            <button class="btn btn-outline-secondary" type="submit">検索</button>
        </form>
    </div>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">ページ一覧</h2>
        <a href="{{ url_for('add_page') }}" class="btn btn-success">新規ページ作成</a>
    </div>

    {% if pages %}
        <div class="list-group">
            {% for page in pages %}
                <a href="{{ url_for('view_page', page_id=page['id']) }}" class="list-group-item list-group-item-action">
                    {{ page['title'] }}
                </a>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-secondary" role="alert">
            まだページがありません。最初のページを作成しましょう！
        </div>
    {% endif %}
{% endblock %}